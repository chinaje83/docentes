var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
jQuery(document).ready(function(){$(".chzn-select").chosen({search_contains:!0});listar();listar2();$("#selectorEstados").addClass("hide");$(document).on("click","#btnBuscar",function(){gridReload(1);timeoutHnd=setTimeout(function(){gridReload2(1)},500)});$(document).on("click","#btnLimpiar",function(){Resetear()});$(document).on("click",".nav-link",function(){var a=$("#selectorEstados"),b=1===parseInt($(this).data("mostrar"));$("#IdEstado").val("").trigger("chosen:updated");a.addClass("hide");b&&
a.removeClass("hide")});$("#Inicio").datepicker({format:"dd/mm/yyyy",language:"es"});$("#Fin").datepicker({format:"dd/mm/yyyy",language:"es"});$(document).on("keyup","#formbusqueda #Nombre",function(){var a=$(this).val();3<=a.length&&$.ajax({type:"POST",url:"/autocompletar_ajax.php",data:"Nombre="+a+"&tipo=1",dataType:"json",success:function(a){a.success?console.log(a.contenido):console.log(a.error_description)}})})});var timeoutHnd;
function doSearch(a){timeoutHnd&&clearTimeout(timeoutHnd);timeoutHnd=setTimeout(function(){gridReload(1)},500)}function gridReload(a){var b=jQuery("#listarDatos");b.setGridParam({postData:null});var c=$("#formbusqueda").serializeObject();c.claseEstados="danger, warning";b.jqGrid("setGridParam",{url:"/licencias/medicas/revision/lst?rand="+Math.random(),postData:c,page:a}).trigger("reloadGrid")}
function gridReload2(a){var b=jQuery("#listarDatos2");b.setGridParam({postData:null});var c=$("#formbusqueda").serializeObject();c.claseEstados="default,success";b.jqGrid("setGridParam",{url:"/licencias/medicas/revision/lst?rand="+Math.random(),postData:c,page:a}).trigger("reloadGrid")}function Resetear(){$("input[type!=hidden]").val("");$("select").val("").trigger("chosen:updated");timeoutHnd=setTimeout(function(){gridReload(1)},500);timeoutHnd=setTimeout(function(){gridReload2(1)},1E3)}
function listar(){var a=$("#formbusqueda").serializeObject();a.claseEstados="danger, warning";var b=jQuery("#listarDatos");armarGrilla(a,b,"#pager2")}function listar2(){var a=$("#formbusqueda").serializeObject();a.claseEstados="default,success";var b=jQuery("#listarDatos2");armarGrilla(a,b,"#pager22")}
function armarGrilla(a,b,c){b.jqGrid({url:"/licencias/medicas/revision/lst?rand="+Math.random(),postData:a,datatype:"json",colNames:"Id;Nombre y Apellido;Documento;Inicio;Fin;Duraci\u00f3n;Art\u00edculos;Diagn\u00f3stico;Estado privado;Estado p\u00fablico;Fecha de env\u00edo;Autorizante;Junta;Editar".split(";"),colModel:[{name:"Id",index:"Id",width:10,align:"center"},{name:"Persona.NombreCompleto.raw",index:"Persona.NombreCompleto.raw",width:25,align:"left"},{name:"Persona.Dni.raw",index:"Persona.Dni.raw",
width:20,align:"center"},{name:"Inicio",index:"Inicio",width:20,align:"center"},{name:"Fin",index:"Fin",width:20,align:"center"},{name:"Duracion",index:"Duracion",width:15,align:"center"},{name:"Articulo.Id",index:"Articulo.Id",width:40,align:"left",sortable:!1},{name:"Motivo.Id",index:"Motivo.Id",width:30,align:"left"},{name:"IdEstado",index:"Estado.Id",width:20,align:"center"},{name:"Estado.NombrePublico",index:"Estado.NombrePublico",width:20,align:"center",sortable:!1},{name:"FechaEnvio",index:"FechaEnvio",
width:20,align:"center",sortable:!1},{name:"Aprobante.Id",index:"Aprobante.Id",width:20,align:"center",sortable:!1},{name:"Junta",index:"Junta",width:20,align:"center",sortable:!1},{name:"Editar",index:"Editar",width:20,align:"center",sortable:!1}],rowNum:20,ajaxGridOptions:{cache:!1},mtype:"POST",sortname:"Id",viewrecords:!0,sortorder:"DESC",styleUI:"Bootstrap4",iconSet:"fontAwesome",pager:c,height:390,caption:"",emptyrecords:"Sin datos para mostrar.",loadError:function(a,b,c){},loadComplete:function(a){var b=
$(this).find("tbody").children("tr[class!=jqgfirstrow]"),c=a.rows;b.each(function(a,b){$(b).addClass(c[a].class)})}});$(window).bind("resize",function(){b.setGridWidth($("#LstDatos2").width())}).trigger("resize")};
