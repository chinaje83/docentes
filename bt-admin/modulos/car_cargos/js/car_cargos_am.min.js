jQuery(document).ready(function(){$(document).on("click","#BtnInsertar",function(){Insertar()});$(document).on("click","#BtnModificar",function(){Modificar()});$(document).on("click","#BtnEliminar",function(){var a=$("#formalta #IdCargo").val();Eliminar(a)})});function Insertar(){$.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Agregando...</h1>',baseZ:9999999999});var a=$("#formalta").serialize();enviarDatosInsertarModificar(a+"&accion=1",1);return!0}
function Modificar(){$.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Actualizando...</h1>',baseZ:9999999999});var a=$("#formalta").serialize();a+="&NombreTipoCargo="+$("#IdTipoCargo option:selected").text();enviarDatosInsertarModificar(a+"&accion=2",2);return!0}
function Eliminar(a){var b;swal({title:"Eliminar",text:"Est\u00e1 seguro que desea eliminar?",type:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar!",confirmButtonColor:"#DD6B55",cancelButtonText:"No, cancelar!"}).then(function(c){c.value&&(b="IdCargo="+a,b+="&accion=3",$.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Eliminando...</h1>',baseZ:9999999999}),enviarDatosInsertarModificar(b,3))})}
function enviarDatosInsertarModificar(a,b){$.ajax({type:"POST",url:"car_cargos_upd.php",data:a,dataType:"json",success:function(a){1==a.IsSucceed?($("#MsgGuardar").html(a.Msg),$("#MsgGuardar").addClass("show"),setTimeout(function(){$("#MsgGuardar").removeClass("show")},3E3),$.unblockUI(),1===b&&swal({title:"Ha generado correctamente",text:"Aguarde unos segundos mientras lo redireccionamos.",type:"success",showCancelButton:!1,timer:3E3,showConfirmButton:!1}).then(function(b){$.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Recargando...</h1>',
baseZ:9999999999});window.location=a.header}),2===b&&swal({title:"Sus datos han sido modificados con exito",text:"Operaci\u00f3n finalizada",confirmButtonColor:"#8bc71b",confirmButtonText:"Ok",type:"success"}),3===b&&swal({title:"Ha eliminado correctamente",type:"success",showCancelButton:!1,confirmButtonColor:"#8bc71b",confirmButtonText:"Ok"}).then(function(b){b.value&&($.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Recargando...</h1>',baseZ:9999999999}),
window.location=a.header)}),$(".msgaccionupd").html(a.Msg)):swal({title:"Error",text:a.Msg,type:"error"});$.unblockUI()}})}
function AbrirDatosAuditoria(){$.blockUI({message:'<div style="font-size:20px; font-weight:bold"><div class="load-sistema">Cargando...</h1>',baseZ:9999999999});$("#cargando").show();var a="IdCargo= "+$("#IdCargo").val();$.ajax({type:"POST",url:"car_cargos_auditoria_data_rapida.php",data:a,success:function(a){$("#DataAuditoria").html(a);$("#ModalData").modal("show");$.unblockUI()}});return!0};
